{%extends 'chat/base.html'%} {%block title%}{%endblock%} {%block style%}
{%endblock%} {%block content%} What chat room would you like to enter?<br />
<div class="col-sm-6 mt-3">
  <div class="mb-3">
    <label for="chat-message-input" class="form-label">Room Name*</label>
    <input
      type="text"
      class="form-control"
      name="room-name-input"
      id="room-name-input"
      placeholder="Enter your room name..."
    />
    <input
      class="btn btn-outline-primary mt-2"
      id="room-name-submit"
      type="button"
      value="Enter"
    />
  </div>
</div>
<script>
  document.querySelector("#room-name-input").focus();
  document.querySelector("#room-name-input").onkeyup = function (e) {
    if (e.keyCode === 13) {
      // enter, return
      document.querySelector("#room-name-submit").click();
    }
  };

  document.querySelector("#room-name-submit").onclick = function (e) {
    var roomName = document.querySelector("#room-name-input").value;
    window.location.pathname = "/chat/" + roomName + "/";
  };
</script>

{%endblock%} {%block javascript%} {%endblock%}
